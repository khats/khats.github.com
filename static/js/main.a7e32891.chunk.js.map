{"version":3,"sources":["Controls/styles.module.css","HelpInformer/styles.module.css","Controls/Autobot.jsx","Controls/Loose.jsx","Controls/index.jsx","Cell/flag.svg","Cell/mine.svg","Cell/mine-detected.svg","Cell/index.jsx","Desk/index.jsx","modules/commands.js","modules/realtime.js","modules/events.js","LevelPassword/index.jsx","MinesCounter/index.jsx","HelpInformer/index.jsx","App.jsx","index.jsx","Cell/styles.module.css","Desk/styles.module.css"],"names":["module","exports","Autobot","props","type","onChange","useAutobot","checked","autobotEnabled","setAutobotPercent","value","autobotStopPercent","min","max","Loose","Fragment","onClick","restartGame","PREDEFINED_LEVEL","Controls","changeLevel","event","level","target","test","parsed","parseInt","setState","isNaN","startGame","state","startLevel","levels","index","push","className","styles","key","length","this","loose","placeholder","PureComponent","_extends","Object","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref","svgRef","title","id","x","y","viewBox","style","enableBackground","xmlSpace","ref","fill","points","d","ForwardRef","forwardRef","cx","cy","r","height","width","Cell","open","j","setFlag","preventDefault","classes","classnames","cell","safe","opened","onContextMenu","React","displayName","Desk","row","matrix","desk","map","indexRow","indexCell","propType","PropTypes","arrayOf","number","Realtime","url","callback","connection","WebSocket","addEventListener","message","response","data","split","eventType","splice","join","trim","send","commands","RESPONSE_EVENT","NEW","MAP","OPEN","RESPONSE_PAYLOAD","CONNECTED","OK","LOSE","WIN","LevelPassword","password","MinesCounter","minesCount","HelpInformer","helpRequired","makeDecision","offsets","getSiblings","mine","strict","mines","forEach","offset","findElement","CELL_FLAG","FLAG","MINE","REAL_MINE","SAFE_TO_OPEN","UNOPENED","App","resolver","payload","connected","started","getMap","filter","line","rowIndex","cellIndex","startsWith","createGame","openCell","openList","point","step","to_open","old_matrix","flag","exist_flags","real_mines","setupMap","should_update","every","Math","round","reduce","accum","maxflags","siblingFlags","lose","some","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a7e32891.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"easy\":\"styles_easy__PNmw3\",\"normal\":\"styles_normal__1y7ap\",\"hard\":\"styles_hard__1Hrn7\",\"nightmare\":\"styles_nightmare__3REa9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makeDecision\":\"styles_makeDecision__1hwdq\"};","import React from \"react\";\r\nexport default function Autobot(props){\r\n    return <div>\r\n        Dev mode:\r\n        <div>\r\n            <span>Use random decisions</span> <input type=\"checkbox\" onChange={props.useAutobot}\r\n        checked={props.autobotEnabled}/>\r\n        </div>\r\n        <div>\r\n            <span>Stop autobot on unopened cells %: </span> <input type=\"number\" onChange={props.setAutobotPercent}\r\n                                                                   value={props.autobotStopPercent} min={0} max={100}/>\r\n        </div>\r\n    </div>\r\n}\r\n","import React from \"react\";\r\nexport default function Loose(props){\r\n    return (<React.Fragment>\r\n        <h3>You lose</h3>\r\n        <button onClick={props.restartGame}>Restart</button>\r\n    </React.Fragment>)\r\n}\r\n","import React, {PureComponent} from \"react\";\r\nimport Autobot from \"./Autobot\";\r\nimport Loose from \"./Loose\";\r\nimport styles from './styles.module.css';\r\n\r\nconst PREDEFINED_LEVEL = ['easy', 'normal','hard', 'nightmare'];\r\nexport default class Controls extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            level: 1,\r\n            autobotEnabled: false,\r\n            autobotStopPercent: 0\r\n        }\r\n    }\r\n\r\n    changeLevel = (event) => {\r\n        const level = event.target.value;\r\n        if (/^[1-9]*$/.test(level)) {\r\n            const parsed = parseInt(level);\r\n            this.setState({level: isNaN(parsed) ? '' : parsed});\r\n        }\r\n\r\n    };\r\n\r\n    useAutobot = (event) => {\r\n        this.setState({autobotEnabled: event.target.checked});\r\n    }\r\n\r\n    setAutobotPercent = (event) => {\r\n        this.setState({autobotStopPercent: event.target.value});\r\n    };\r\n\r\n    startGame = () => {\r\n        this.props.startGame(this.state.level, this.state.autobotEnabled, this.state.autobotStopPercent);\r\n    };\r\n\r\n    startLevel = (level) => {\r\n        this.setState({level}, ()=>{\r\n            this.startGame()\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const levels=[];\r\n        for (let index = 0;index < PREDEFINED_LEVEL.length; index++){\r\n            const level = index + 1;\r\n            levels.push(<button className={styles[PREDEFINED_LEVEL[index]]} onClick={()=>this.startLevel(level)} key={level}>{`Level ${level}`}</button>)\r\n        }\r\n        return <React.Fragment>\r\n            {this.props.loose\r\n                ? <Loose restartGame={this.props.restartGame}/>\r\n                : <React.Fragment>\r\n                    <div>\r\n                        {levels}\r\n                    </div>\r\n                    <hr/>\r\n                    <span>or custom level:</span>\r\n                    <input type=\"text\" placeholder={\"1,2,3,4 or other\"}\r\n                           onChange={this.changeLevel}\r\n                           value={this.state.level}/>\r\n                    {this.state.level ?\r\n                        <button onClick={this.startGame}>Start</button>\r\n                        : null}\r\n                    <Autobot useAutobot={this.useAutobot} setAutobotPercent={this.setAutobotPercent}\r\n                             autobotEnabled={this.state.autobotEnabled}\r\n                             autobotStopPercent={this.state.autobotStopPercent}/>\r\n                </React.Fragment>\r\n            }\r\n\r\n        </React.Fragment>\r\n    }\r\n\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgFlag = function SvgFlag(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 60 60\",\n    style: {\n      enableBackground: \"new 0 0 60 60\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, React.createElement(\"polygon\", {\n    style: {\n      fill: \"#CC4B4C\"\n    },\n    points: \"52,23.5 10,40 10,22 10,4 \"\n  }), React.createElement(\"path\", {\n    style: {\n      fill: \"#424A60\"\n    },\n    d: \"M9,0C8.448,0,8,0.447,8,1v3v55c0,0.553,0.448,1,1,1s1-0.447,1-1V4V1C10,0.447,9.552,0,9,0z\"\n  }), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFlag, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/flag.35d811aa.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"m44.02 19.98c3.08 3.08 4.98 7.32 4.98 12.02s-1.9 8.94-4.98 12.02-7.32 4.98-12.02 4.98-8.94-1.9-12.02-4.98-4.98-7.32-4.98-12.02 1.9-8.94 4.98-12.02 7.32-4.98 12.02-4.98 8.94 1.9 12.02 4.98zm-11.02 9.02c0-2.76-2.24-5-5-5s-5 2.24-5 5 2.24 5 5 5 5-2.24 5-5z\",\n  fill: \"#ff7043\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 28,\n  cy: 29,\n  fill: \"#4dd0e1\",\n  r: 5\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fill: \"#012e52\"\n}, React.createElement(\"path\", {\n  d: \"m28 22c-3.86 0-7 3.141-7 7s3.14 7 7 7 7-3.141 7-7-3.14-7-7-7zm0 10c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3z\"\n}), React.createElement(\"path\", {\n  d: \"m54 30h-3.109c-.381-3.658-1.801-7.088-4.12-9.943l2.202-2.202c.781-.781.781-2.047 0-2.828-.78-.781-2.048-.781-2.828 0l-2.203 2.203c-2.856-2.319-6.286-3.74-9.943-4.12v-3.11c0-1.104-.896-2-2-2s-2 .896-2 2v3.109c-3.658.381-7.087 1.802-9.943 4.12l-2.203-2.203c-.78-.781-2.048-.781-2.828 0-.781.781-.781 2.047 0 2.828l2.202 2.202c-2.318 2.855-3.739 6.285-4.12 9.943h-3.107c-1.104 0-2 .896-2 2s.896 2 2 2h3.109c.381 3.658 1.801 7.088 4.12 9.943l-2.202 2.202c-.781.781-.781 2.047 0 2.828.39.391.902.586 1.414.586s1.024-.195 1.414-.586l2.203-2.203c2.856 2.319 6.286 3.74 9.943 4.12v3.111c0 1.104.896 2 2 2s2-.896 2-2v-3.109c3.658-.381 7.087-1.802 9.943-4.12l2.203 2.203c.39.391.902.586 1.414.586s1.024-.195 1.414-.586c.781-.781.781-2.047 0-2.828l-2.202-2.202c2.318-2.855 3.739-6.285 4.12-9.943h3.107c1.104 0 2-.896 2-2s-.896-2.001-2-2.001zm-11.394 12.605c-2.834 2.834-6.601 4.395-10.606 4.395s-7.772-1.561-10.606-4.395c-2.833-2.833-4.394-6.599-4.394-10.605s1.561-7.772 4.394-10.605c2.834-2.834 6.601-4.395 10.606-4.395s7.772 1.561 10.606 4.395c2.833 2.833 4.394 6.599 4.394 10.605s-1.561 7.772-4.394 10.605z\"\n}));\n\nvar SvgMine = function SvgMine(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer\",\n    enableBackground: \"new 0 0 64 64\",\n    height: 512,\n    viewBox: \"0 0 64 64\",\n    width: 512,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgMine, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/mine.f92bc21b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"m28 22c-3.86 0-7 3.141-7 7s3.14 7 7 7 7-3.141 7-7-3.14-7-7-7zm0 10c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"m54 30h-3.107c-.393-3.741-1.88-7.158-4.129-9.935l2.207-2.208c.781-.781.781-2.048 0-2.828-.781-.781-2.047-.781-2.829 0l-2.207 2.207c-2.777-2.249-6.194-3.736-9.935-4.129v-3.107c0-1.104-.896-2-2-2s-2 .896-2 2v3.107c-3.741.393-7.158 1.88-9.935 4.129l-2.207-2.207c-.781-.781-2.047-.781-2.829 0-.781.78-.781 2.047 0 2.828l2.207 2.208c-2.249 2.777-3.736 6.194-4.129 9.935h-3.107c-1.104 0-2 .896-2 2s.896 2 2 2h3.107c.393 3.741 1.88 7.158 4.129 9.935l-2.207 2.208c-.781.781-.781 2.048 0 2.828.391.391.902.586 1.414.586s1.024-.195 1.415-.586l2.207-2.207c2.777 2.249 6.194 3.736 9.935 4.129v3.107c0 1.104.896 2 2 2s2-.896 2-2v-3.107c3.741-.393 7.158-1.88 9.935-4.129l2.207 2.207c.391.391.902.586 1.415.586.512 0 1.023-.195 1.414-.586.781-.78.781-2.047 0-2.828l-2.207-2.208c2.249-2.777 3.736-6.194 4.129-9.935h3.107c1.104 0 2-.896 2-2s-.896-2-2-2zm-22 17c-8.271 0-15-6.729-15-15s6.729-15 15-15 15 6.729 15 15-6.729 15-15 15z\"\n});\n\nvar SvgMineDetected = function SvgMineDetected(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer\",\n    enableBackground: \"new 0 0 64 64\",\n    height: 20,\n    viewBox: \"0 0 64 64\",\n    width: 20,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgMineDetected, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/mine-detected.9fb4f93e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport styles from './styles.module.css';\r\nimport classnames from 'classnames';\r\nimport {ReactComponent as Flag} from './flag.svg';\r\nimport {ReactComponent as Mine } from './mine.svg';\r\nimport {ReactComponent as MineDetected } from './mine-detected.svg';\r\n\r\nclass Cell extends React.PureComponent {\r\n    static displayName = 'Cell';\r\n\r\n    open = () => {\r\n        this.props.open(this.props.i, this.props.j);\r\n    };\r\n\r\n    setFlag = (event) => {\r\n        event.preventDefault();\r\n        this.props.setFlag(this.props.i, this.props.j);\r\n    };\r\n\r\n    render() {\r\n        const classes = classnames({\r\n            [styles.cell]:true,\r\n            [styles.safe]: this.props.value === -3,\r\n            [styles.opened]: this.props.value >= 0\r\n        });\r\n        return <span className={classes} onClick={this.open} onContextMenu={this.setFlag}>\r\n                {this.props.value >=0 ? this.props.value :\r\n                 this.props.value === -1 ? <Flag/> :\r\n                 this.props.value === -2  ? <MineDetected/>:\r\n                 this.props.value === '*' ? <Mine/> : ' '\r\n                }\r\n        </span>\r\n    }\r\n}\r\n\r\nexport default Cell;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from './styles.module.css';\r\nimport Cell from \"../Cell\";\r\n\r\nclass Desk extends React.PureComponent {\r\n    static displayName = 'Desk';\r\n\r\n    static propType = {\r\n        matrix: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number))\r\n    };\r\n\r\n    open = (cell, row) => {\r\n        this.props.open(row, cell);\r\n    };\r\n\r\n    setFlag = (row, cell) => {\r\n        this.props.setFlag(row, cell);\r\n    };\r\n\r\n    render() {\r\n        const matrix = this.props.matrix;\r\n        return (\r\n            <div className={styles.desk}>\r\n                {matrix.map((row, indexRow) =>\r\n                    <div key={indexRow} className={styles.row}>\r\n                        {row.map((cell, indexCell) =>\r\n                            <Cell value={cell} key={indexCell} i={indexRow} j={indexCell}\r\n                                  open={this.open}\r\n                                  setFlag={this.setFlag}/>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default Desk;\r\n","export default {\r\n    CREATE_GAME: (level) => `new ${level}`,\r\n    GET_MAP: 'map',\r\n    OPEN_CELL: (x,y) => `open ${x} ${y}`\r\n}\r\n","import commands from './commands';\r\n\r\nclass Realtime {\r\n    constructor(url, callback) {\r\n        this.connection = new WebSocket(url);\r\n        this.connection.addEventListener('message', (message) => {\r\n            const response = message.data.split(':'),\r\n            eventType = response.splice(0,1)[0];\r\n            callback(eventType, response.join(':').trim())\r\n        });\r\n        this.connection.addEventListener('open', () => {\r\n            callback('new','connected');\r\n        });\r\n    }\r\n\r\n    createGame(level) {\r\n        this.connection.send(commands.CREATE_GAME(level))\r\n    }\r\n\r\n    getMap() {\r\n        this.connection.send(commands.GET_MAP);\r\n    }\r\n\r\n    openCell(x, y) {\r\n        this.connection.send(commands.OPEN_CELL(x, y));\r\n    }\r\n}\r\n\r\nexport default Realtime;\r\n","const RESPONSE_EVENT = {\r\n    NEW: 'new',\r\n    MAP: 'map',\r\n    OPEN: 'open'\r\n\r\n}, RESPONSE_PAYLOAD = {\r\n    CONNECTED: 'connected',\r\n    OK: 'OK',\r\n    LOSE: 'You lose',\r\n    WIN: 'You win'\r\n};\r\nexport {\r\n    RESPONSE_EVENT, RESPONSE_PAYLOAD\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function LevelPassword(props) {\r\n    if(!props.password){\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {props.password}\r\n        </div>)\r\n}\r\n","import React from 'react';\r\nexport default function MinesCounter(props){\r\n    return <div>\r\n        <span>Mines:</span><span>{props.minesCount}</span>\r\n    </div>\r\n}\r\n","import React from \"react\";\r\nimport styles from './styles.module.css';\r\n\r\nexport default function HelpInformer(props){\r\n    return <React.Fragment>\r\n        {props.helpRequired\r\n            ? <h3 className={styles.makeDecision}>Open cell, please! (Can not make decision)</h3>\r\n            : null}\r\n    </React.Fragment>\r\n}\r\n","import React from 'react';\r\nimport Controls from \"./Controls\";\r\nimport Desk from './Desk';\r\nimport Realtime from './modules/realtime';\r\nimport {RESPONSE_EVENT, RESPONSE_PAYLOAD} from './modules/events';\r\nimport LevelPassword from './LevelPassword';\r\nimport MinesCounter from \"./MinesCounter\";\r\nimport HelpInformer from \"./HelpInformer\";\r\n\r\nconst offsets = [{\r\n    i: -1,\r\n    j: -1\r\n},\r\n    {\r\n        i: -1,\r\n        j: 0\r\n    },\r\n    {\r\n        i: -1,\r\n        j: 1\r\n    },\r\n    {\r\n        i: 0,\r\n        j: 1\r\n    },\r\n    {\r\n        i: 1,\r\n        j: 1\r\n    },\r\n    {\r\n        i: 1,\r\n        j: 0\r\n    },\r\n    {\r\n        i: 1,\r\n        j: -1\r\n    },\r\n    {\r\n        i: 0,\r\n        j: -1\r\n    }];\r\n\r\nfunction findElement(matrix, i, j, value, strict) {\r\n    if (i < 0 || j < 0 || i >= matrix.length || j >= matrix[i].length) {\r\n        return null;\r\n    }\r\n    let parsed = matrix[i][j];\r\n    if ((!value && isNaN(parsed)) || (!isNaN(parsed) && (strict ? parsed === value : parsed >= value))) {\r\n        return {\r\n            row: i,\r\n            cell: j\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction getSiblings(matrix, i, j, value, strict = true) {\r\n    let mines = [],\r\n        mine;\r\n    offsets.forEach(offset => {\r\n        mine = findElement(matrix, i + offset.i, j + offset.j, value, strict);\r\n        if (mine) {\r\n            mines.push(mine);\r\n        }\r\n    });\r\n\r\n    return mines;\r\n}\r\n\r\nfunction setupMap(old_matrix) {\r\n\r\n    let matrix = old_matrix.map(row => [...row]);\r\n    matrix.forEach((row, rowIndex) => {\r\n        return row.forEach((cell, cellIndex) => {\r\n            let parsed = parseInt(cell);\r\n            if (!isNaN(parsed) && parsed > CELL_FLAG.FLAG) {\r\n                let new_flags = getSiblings(matrix, rowIndex, cellIndex);\r\n                new_flags.forEach(flag => {\r\n                    matrix[flag.row][flag.cell] = CELL_FLAG.FLAG;\r\n                });\r\n                let exist_flags = getSiblings(matrix, rowIndex, cellIndex, CELL_FLAG.FLAG),\r\n                    real_mines = getSiblings(matrix, rowIndex, cellIndex, CELL_FLAG.MINE);\r\n                if (exist_flags.length > 0 && (exist_flags.length + real_mines.length) === parsed) {\r\n                    exist_flags.forEach(flag => {\r\n                        matrix[flag.row][flag.cell] = CELL_FLAG.MINE;\r\n                    });\r\n                }\r\n\r\n                if (real_mines.length > 0 && real_mines.length === parsed && exist_flags.length > 0) {\r\n                    exist_flags.forEach(flag => {\r\n                        matrix[flag.row][flag.cell] = CELL_FLAG.SAFE_TO_OPEN;\r\n                    });\r\n                }\r\n            }\r\n        })\r\n    });\r\n    matrix.forEach((row, rowIndex) => {\r\n        return row.forEach((cell, cellIndex) => {\r\n            let parsed = parseInt(cell);\r\n            if (!isNaN(parsed) && parsed > CELL_FLAG.FLAG) {\r\n                let exist_flags = getSiblings(matrix, rowIndex, cellIndex, CELL_FLAG.FLAG),\r\n                    real_mines = getSiblings(matrix, rowIndex, cellIndex, CELL_FLAG.MINE);\r\n\r\n                if (real_mines.length > 0 && real_mines.length === parsed && exist_flags.length > 0) {\r\n                    exist_flags.forEach(flag => {\r\n                        matrix[flag.row][flag.cell] = CELL_FLAG.SAFE_TO_OPEN;\r\n                    });\r\n                }\r\n            }\r\n        })\r\n    });\r\n    return matrix;\r\n}\r\n\r\n\r\nconst CELL_FLAG = {\r\n    FLAG: -1,\r\n    MINE: -2,\r\n    REAL_MINE: '*',\r\n    SAFE_TO_OPEN: -3,\r\n    UNOPENED: '□'\r\n}\r\nclass App extends React.Component {\r\n\r\n    static displayName = 'App';\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            matrix: [],\r\n            connection: new Realtime('wss://hometask.eg1236.com/game1/', this.resolver),\r\n            started: false,\r\n            loose: false,\r\n            helpRequired: true,\r\n            autobotEnabled: false,\r\n            password: null,\r\n            connected: false\r\n        };\r\n    }\r\n\r\n    resolver = (event, payload) => {\r\n        if (event === RESPONSE_EVENT.NEW) {\r\n            if (payload === RESPONSE_PAYLOAD.CONNECTED) {\r\n                this.setState({connected: true});\r\n                return;\r\n            }\r\n            if (payload === RESPONSE_PAYLOAD.OK) {\r\n                this.setState({started: true, matrix: [], helpRequired: false}, () => {\r\n                    this.state.connection.getMap();\r\n                });\r\n                return;\r\n            }\r\n        }\r\n        if (event === RESPONSE_EVENT.MAP) {\r\n            let matrix = payload.split('\\n').filter(line => line !== '').map(line => line.split(''));\r\n            if (this.state.matrix.length === matrix.length) {\r\n                matrix.forEach((row, rowIndex) => {\r\n                    row.forEach((cell, cellIndex) => {\r\n                        if (cell === CELL_FLAG.UNOPENED) {\r\n                            matrix[rowIndex][cellIndex] = this.state.matrix[rowIndex][cellIndex];\r\n                        }\r\n                    })\r\n                });\r\n            }\r\n            this.setState({matrix: matrix, helpRequired: false});\r\n            return;\r\n        }\r\n        if (event === RESPONSE_EVENT.OPEN) {\r\n            if (payload === RESPONSE_PAYLOAD.LOSE) {\r\n                this.setState({started: false});\r\n                return;\r\n            }\r\n            if (payload.startsWith(RESPONSE_PAYLOAD.WIN)) {\r\n                this.setState({\r\n                    password: payload,\r\n                    matrix: [],\r\n                    started: false\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    restartGame = () => {\r\n        this.setState({\r\n            matrix: [],\r\n            started: false,\r\n            helpRequired: false,\r\n            password: null\r\n        });\r\n    };\r\n\r\n    startGame = (level, autobotEnabled, autobotStopPercent) => {\r\n        this.setState({autobotEnabled, autobotStopPercent});\r\n        this.state.connection.createGame(level);\r\n    };\r\n    open = (cell, row) => {\r\n        this.state.connection.openCell(cell, row);\r\n        this.state.connection.getMap();\r\n    };\r\n    openList = (points) => {\r\n        points.forEach(point => {\r\n            this.state.connection.openCell(point.cell, point.row);\r\n        });\r\n        this.state.connection.getMap();\r\n    };\r\n    setFlag = (row, cell) => {\r\n        const matrix = this.state.matrix.map(row => [...row]);\r\n        matrix[row][cell] = CELL_FLAG.FLAG;\r\n        this.setState({matrix});\r\n    };\r\n\r\n    step = () => {\r\n        let to_open = [];\r\n        this.state.matrix.forEach((row, rowIndex) => {\r\n            row.forEach((cell, cellIndex) => {\r\n                if (cell === CELL_FLAG.SAFE_TO_OPEN) {\r\n                    to_open.push({row: rowIndex, cell: cellIndex});\r\n                }\r\n\r\n            });\r\n        });\r\n        if (to_open.length) {\r\n            this.openList(to_open);\r\n        } else {\r\n            let matrix = setupMap(this.state.matrix);\r\n            let should_update = false;\r\n            matrix.forEach((row, rowIndex) => {\r\n                row.forEach((cell, cellIndex) => {\r\n                    if (cell !== this.state.matrix[rowIndex][cellIndex]) {\r\n                        should_update = true;\r\n                    }\r\n                })\r\n            });\r\n\r\n            if (should_update) {\r\n                this.setState({matrix: matrix});\r\n                return;\r\n            }\r\n            if (this.state.autobotEnabled && matrix.every(row => row.every(cell => isNaN(cell)))) {\r\n                this.open(Math.round(matrix[0].length / 2), Math.round(matrix.length / 2));\r\n                return;\r\n            }\r\n\r\n            if (!this.state.autobotEnabled) {\r\n                this.setState({helpRequired: true});\r\n                return;\r\n            }\r\n\r\n            if (this.state.matrix.reduce((accum, line) => {\r\n                return accum + line.filter(cell => isNaN(cell)).length;\r\n            }, 0) < (matrix.length * matrix[0].length) * this.state.autobotStopPercent / 100) {\r\n                this.setState({autobotEnabled: false});\r\n                return;\r\n            }\r\n\r\n            let to_open = null;\r\n            let maxflags = 0;\r\n            for (let i = 0; i < matrix.length; i++) {\r\n                for (let j = 0; j < matrix[i].length; j++) {\r\n                    if (isNaN(matrix[i][j])) {\r\n                        let siblingFlags = getSiblings(matrix, i, j, CELL_FLAG.MINE, false);\r\n                        if (siblingFlags > maxflags) {\r\n                            maxflags = siblingFlags;\r\n                            to_open = {\r\n                                row: i,\r\n                                cell: j\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (to_open) {\r\n                this.open(to_open.cell, to_open.row);\r\n                return;\r\n            }\r\n            for (let i = 0; i < matrix.length; i++) {\r\n                for (let j = 0; j < matrix[i].length; j++) {\r\n                    if (matrix[i][j] === CELL_FLAG.FLAG) {\r\n                        to_open = {\r\n                            row: i,\r\n                            cell: j\r\n                        };\r\n                        break;\r\n                    }\r\n                }\r\n                if (to_open) {\r\n                    break;\r\n                }\r\n            }\r\n            if (to_open) {\r\n                this.open(to_open.cell, to_open.row);\r\n                return;\r\n            }\r\n\r\n            this.setState({helpRequired: true});\r\n\r\n        }\r\n\r\n\r\n    };\r\n\r\n    componentDidUpdate() {\r\n        if (this.state.started\r\n            && this.state.matrix.length > 0\r\n            && (this.state.autobotEnabled || !this.state.helpRequired)) {\r\n            this.step();\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const minesCount = this.state.matrix.reduce((accum, line) => {\r\n            return accum + line.filter(cell => cell === CELL_FLAG.MINE).length;\r\n        }, 0);\r\n\r\n        const lose = this.state.matrix.some(row=>row.some(cell=>cell === CELL_FLAG.REAL_MINE))\r\n         && !this.state.matrix.every(row=>row.every(cell=>cell === CELL_FLAG.REAL_MINE ||  !isNaN(cell)));\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <LevelPassword password={this.state.password}/>\r\n                <hr/>\r\n                <Controls startGame={this.startGame}\r\n                          loose={lose}\r\n                          restartGame={this.restartGame}/>\r\n                <hr/>\r\n\r\n                {this.state.started\r\n                    ?\r\n                    <React.Fragment>\r\n                        <MinesCounter minesCount={minesCount}/>\r\n                        <HelpInformer helpRequired={this.state.helpRequired}/>\r\n                    </React.Fragment>\r\n                    : null}\r\n                <Desk matrix={this.state.matrix} open={this.open} setFlag={this.setFlag}/>\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cell\":\"styles_cell__XNJeH\",\"opened\":\"styles_opened__3l2M2\",\"safe\":\"styles_safe__2yXuU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"desk\":\"styles_desk__DUIO6\",\"row\":\"styles_row__DtQBb\"};"],"sourceRoot":""}